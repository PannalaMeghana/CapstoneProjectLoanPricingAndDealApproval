{"ast":null,"code":"import { HttpHeaders } from \"@angular/common/http\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { tap } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst API_URL = \"http://13.201.77.166:8080/api/auth/\";\nconst httpOptions = {\n  headers: new HttpHeaders({\n    \"Content-Type\": \"application/json\"\n  })\n};\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor(http) {\n      this.http = http;\n      this.currentUserSubject = new BehaviorSubject(null);\n      this.currentUser = this.currentUserSubject.asObservable();\n      const storedUser = localStorage.getItem(\"currentUser\");\n      if (storedUser) {\n        this.currentUserSubject.next(JSON.parse(storedUser));\n      }\n    }\n    get currentUserValue() {\n      return this.currentUserSubject.value;\n    }\n    login(credentials) {\n      return this.http.post(API_URL + \"login\", credentials, httpOptions).pipe(tap(response => {\n        localStorage.setItem(\"currentUser\", JSON.stringify(response));\n        this.currentUserSubject.next(response);\n      }));\n    }\n    signup(signupData) {\n      return this.http.post(API_URL + \"signup\", signupData, httpOptions);\n    }\n    logout() {\n      localStorage.removeItem(\"currentUser\");\n      this.currentUserSubject.next(null);\n    }\n    isLoggedIn() {\n      return !!this.currentUserValue;\n    }\n    getToken() {\n      return this.currentUserValue?.token ?? null;\n    }\n    hasRole(role) {\n      return this.currentUserValue?.roles?.includes(role) ?? false;\n    }\n    isAdmin() {\n      return this.hasRole(\"ROLE_ADMIN\");\n    }\n    isUser() {\n      return this.hasRole(\"ROLE_USER\");\n    }\n    static {\n      this.ɵfac = function AuthService_Factory(t) {\n        return new (t || AuthService)(i0.ɵɵinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthService,\n        factory: AuthService.ɵfac,\n        providedIn: \"root\"\n      });\n    }\n  }\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}