{"ast":null,"code":"import { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { RouterModule } from \"@angular/router\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/auth.service\";\nimport * as i2 from \"../../../services/loan.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AdminLoanDetailComponent_div_17_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AdminLoanDetailComponent_div_17_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.setUnderReview());\n    });\n    i0.ɵɵtext(1, \" Set Under Review \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_122_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"h3\");\n    i0.ɵɵtext(2, \"Approval Actions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 30)(4, \"div\", 31)(5, \"label\", 32);\n    i0.ɵɵtext(6, \"Approval Remarks (Optional)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"textarea\", 33);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminLoanDetailComponent_div_17_div_122_Template_textarea_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.approvalRemarks, $event) || (ctx_r2.approvalRemarks = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function AdminLoanDetailComponent_div_17_div_122_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.approveLoan());\n    });\n    i0.ɵɵtext(9, \"Approve Loan\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 31)(11, \"label\", 32);\n    i0.ɵɵtext(12, \"Rejection Remarks (Required)\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"textarea\", 35);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminLoanDetailComponent_div_17_div_122_Template_textarea_ngModelChange_13_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      i0.ɵɵtwoWayBindingSet(ctx_r2.rejectionRemarks, $event) || (ctx_r2.rejectionRemarks = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminLoanDetailComponent_div_17_div_122_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r2.rejectLoan());\n    });\n    i0.ɵɵtext(15, \"Reject Loan\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.approvalRemarks);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.rejectionRemarks);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.rejectionRemarks.trim());\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_126_div_1_p_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Remarks:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const history_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", history_r5.remarks, \"\");\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_126_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵelement(1, \"div\", 40);\n    i0.ɵɵelementStart(2, \"div\", 41)(3, \"div\", 42)(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 43);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"p\")(10, \"strong\");\n    i0.ɵɵtext(11, \"By:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, AdminLoanDetailComponent_div_17_div_126_div_1_p_13_Template, 4, 1, \"p\", 44);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const history_r5 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵclassMapInterpolate1(\"badge badge-\", history_r5.toStatus == null ? null : history_r5.toStatus.toLowerCase(), \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\"\", history_r5.fromStatus, \" \\u2192 \", history_r5.toStatus, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 8, history_r5.changedAt, \"medium\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", history_r5.changedBy, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", history_r5.remarks);\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_126_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵtemplate(1, AdminLoanDetailComponent_div_17_div_126_div_1_Template, 14, 11, \"div\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.loan.statusHistory);\n  }\n}\nfunction AdminLoanDetailComponent_div_17_ng_template_127_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 45);\n    i0.ɵɵtext(1, \"No status changes yet\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_133_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46)(1, \"div\", 47)(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 48);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const comment_r6 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r6.commentBy);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 3, comment_r6.commentedAt, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(comment_r6.commentText);\n  }\n}\nfunction AdminLoanDetailComponent_div_17_div_134_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45)(1, \"p\");\n    i0.ɵɵtext(2, \"No comments yet\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminLoanDetailComponent_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 12)(2, \"div\")(3, \"h1\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 13);\n    i0.ɵɵtemplate(8, AdminLoanDetailComponent_div_17_button_8_Template, 2, 0, \"button\", 14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 15)(10, \"div\", 16)(11, \"h3\");\n    i0.ɵɵtext(12, \"Basic Information\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 17)(14, \"span\", 18);\n    i0.ɵɵtext(15, \"Borrower:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"span\", 19);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 17)(19, \"span\", 18);\n    i0.ɵɵtext(20, \"Industry:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"span\", 19);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"div\", 17)(24, \"span\", 18);\n    i0.ɵɵtext(25, \"Loan Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"span\", 19);\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(28, \"div\", 17)(29, \"span\", 18);\n    i0.ɵɵtext(30, \"Loan Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"span\", 19);\n    i0.ɵɵtext(32);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(33, \"div\", 17)(34, \"span\", 18);\n    i0.ɵɵtext(35, \"Tenor:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"span\", 19);\n    i0.ɵɵtext(37);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(38, \"div\", 17)(39, \"span\", 18);\n    i0.ɵɵtext(40, \"Created By:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"span\", 19);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(43, \"div\", 20)(44, \"span\", 18);\n    i0.ɵɵtext(45, \"Purpose:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(46, \"span\", 19);\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(48, \"div\", 16)(49, \"h3\");\n    i0.ɵɵtext(50, \"Pricing Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 17)(52, \"span\", 18);\n    i0.ɵɵtext(53, \"Base Rate:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(54, \"span\", 19);\n    i0.ɵɵtext(55);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(56, \"div\", 17)(57, \"span\", 18);\n    i0.ɵɵtext(58, \"Spread:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"span\", 19);\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(61, \"div\", 17)(62, \"span\", 18);\n    i0.ɵɵtext(63, \"All-In Rate:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(64, \"span\", 21);\n    i0.ɵɵtext(65);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(66, \"div\", 17)(67, \"span\", 18);\n    i0.ɵɵtext(68, \"Arrangement Fee:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(69, \"span\", 19);\n    i0.ɵɵtext(70);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(71, \"div\", 17)(72, \"span\", 18);\n    i0.ɵɵtext(73, \"Commitment Fee:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(74, \"span\", 19);\n    i0.ɵɵtext(75);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(76, \"div\", 16)(77, \"h3\");\n    i0.ɵɵtext(78, \"Risk Assessment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(79, \"div\", 17)(80, \"span\", 18);\n    i0.ɵɵtext(81, \"Credit Rating:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(82, \"span\", 19);\n    i0.ɵɵtext(83);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(84, \"div\", 17)(85, \"span\", 18);\n    i0.ɵɵtext(86, \"Risk Category:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(87, \"span\", 19);\n    i0.ɵɵtext(88);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(89, \"div\", 17)(90, \"span\", 18);\n    i0.ɵɵtext(91, \"Probability of Default:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(92, \"span\", 19);\n    i0.ɵɵtext(93);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(94, \"div\", 17)(95, \"span\", 18);\n    i0.ɵɵtext(96, \"Loss Given Default:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(97, \"span\", 19);\n    i0.ɵɵtext(98);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(99, \"div\", 17)(100, \"span\", 18);\n    i0.ɵɵtext(101, \"Expected Loss:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(102, \"span\", 19);\n    i0.ɵɵtext(103);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(104, \"div\", 16)(105, \"h3\");\n    i0.ɵɵtext(106, \"Collateral\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(107, \"div\", 17)(108, \"span\", 18);\n    i0.ɵɵtext(109, \"Collateral Type:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(110, \"span\", 19);\n    i0.ɵɵtext(111);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(112, \"div\", 17)(113, \"span\", 18);\n    i0.ɵɵtext(114, \"Collateral Value:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(115, \"span\", 19);\n    i0.ɵɵtext(116);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(117, \"div\", 17)(118, \"span\", 18);\n    i0.ɵɵtext(119, \"Loan to Value:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(120, \"span\", 19);\n    i0.ɵɵtext(121);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(122, AdminLoanDetailComponent_div_17_div_122_Template, 16, 3, \"div\", 22);\n    i0.ɵɵelementStart(123, \"div\", 16)(124, \"h3\");\n    i0.ɵɵtext(125, \"Status History\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(126, AdminLoanDetailComponent_div_17_div_126_Template, 2, 1, \"div\", 23)(127, AdminLoanDetailComponent_div_17_ng_template_127_Template, 2, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(129, \"div\", 16)(130, \"h3\");\n    i0.ɵɵtext(131, \"Comments\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(132, \"div\", 24);\n    i0.ɵɵtemplate(133, AdminLoanDetailComponent_div_17_div_133_Template, 9, 6, \"div\", 25)(134, AdminLoanDetailComponent_div_17_div_134_Template, 3, 0, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(135, \"div\", 27)(136, \"textarea\", 28);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function AdminLoanDetailComponent_div_17_Template_textarea_ngModelChange_136_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r2.newComment, $event) || (ctx_r2.newComment = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(137, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function AdminLoanDetailComponent_div_17_Template_button_click_137_listener() {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addComment());\n    });\n    i0.ɵɵtext(138, \"Add Comment\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const noHistory_r7 = i0.ɵɵreference(128);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.dealName);\n    i0.ɵɵadvance();\n    i0.ɵɵclassMapInterpolate1(\"badge badge-\", ctx_r2.loan.status == null ? null : ctx_r2.loan.status.toLowerCase(), \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r2.loan.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loan.status === \"SUBMITTED\");\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.borrowerName);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.borrowerIndustry);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.loanType);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.loan.currency, \" \", ctx_r2.loan.loanAmount.toLocaleString(), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.tenorMonths, \" months\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.createdBy);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.purpose);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.baseRate, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.spread, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.allInRate, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.arrangementFee, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.commitmentFee, \"%\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.creditRating);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.riskCategory);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.probabilityOfDefault, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.lossGivenDefault, \"%\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.expectedLoss, \"%\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r2.loan.collateralType || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate((ctx_r2.loan.collateralValue == null ? null : ctx_r2.loan.collateralValue.toLocaleString()) || \"N/A\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r2.loan.loanToValue, \"%\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loan.status === \"SUBMITTED\" || ctx_r2.loan.status === \"UNDER_REVIEW\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.loan.statusHistory && ctx_r2.loan.statusHistory.length > 0)(\"ngIfElse\", noHistory_r7);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.loan.comments);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.loan.comments || ctx_r2.loan.comments.length === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r2.newComment);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"disabled\", !ctx_r2.newComment.trim());\n  }\n}\nexport let AdminLoanDetailComponent = /*#__PURE__*/(() => {\n  class AdminLoanDetailComponent {\n    constructor(authService, loanService, router, route) {\n      this.authService = authService;\n      this.loanService = loanService;\n      this.router = router;\n      this.route = route;\n      this.loan = null;\n      this.newComment = \"\";\n      this.approvalRemarks = \"\";\n      this.rejectionRemarks = \"\";\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.currentUserValue;\n      const id = this.route.snapshot.paramMap.get(\"id\");\n      if (id) {\n        this.loadLoan(id);\n      }\n    }\n    loadLoan(id) {\n      this.loanService.getAdminLoanById(id).subscribe({\n        next: loan => {\n          this.loan = loan;\n        },\n        error: err => console.error(\"Error loading loan:\", err)\n      });\n    }\n    setUnderReview() {\n      if (this.loan?.id && confirm(\"Set this loan under review?\")) {\n        this.loanService.setUnderReview(this.loan.id).subscribe({\n          next: () => {\n            this.loadLoan(this.loan.id);\n          },\n          error: err => console.error(\"Error updating status:\", err)\n        });\n      }\n    }\n    approveLoan() {\n      if (this.loan?.id && confirm(\"Approve this loan?\")) {\n        this.loanService.approveLoan(this.loan.id, this.approvalRemarks || \"Approved\").subscribe({\n          next: () => {\n            this.approvalRemarks = \"\";\n            this.loadLoan(this.loan.id);\n          },\n          error: err => console.error(\"Error approving loan:\", err)\n        });\n      }\n    }\n    rejectLoan() {\n      if (this.loan?.id && this.rejectionRemarks && confirm(\"Reject this loan?\")) {\n        this.loanService.rejectLoan(this.loan.id, this.rejectionRemarks).subscribe({\n          next: () => {\n            this.rejectionRemarks = \"\";\n            this.loadLoan(this.loan.id);\n          },\n          error: err => console.error(\"Error rejecting loan:\", err)\n        });\n      } else {\n        alert(\"Please provide rejection remarks\");\n      }\n    }\n    addComment() {\n      if (this.loan?.id && this.newComment.trim()) {\n        this.loanService.addAdminComment(this.loan.id, this.newComment).subscribe({\n          next: () => {\n            this.newComment = \"\";\n            this.loadLoan(this.loan.id);\n          },\n          error: err => console.error(\"Error adding comment:\", err)\n        });\n      }\n    }\n    logout() {\n      this.authService.logout();\n      this.router.navigate([\"/login\"]);\n    }\n    static {\n      this.ɵfac = function AdminLoanDetailComponent_Factory(t) {\n        return new (t || AdminLoanDetailComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.LoanService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: AdminLoanDetailComponent,\n        selectors: [[\"app-admin-loan-detail\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 18,\n        vars: 2,\n        consts: [[\"noHistory\", \"\"], [1, \"dashboard\"], [1, \"navbar\"], [1, \"container\"], [1, \"navbar-brand\"], [1, \"navbar-menu\"], [\"routerLink\", \"/admin/dashboard\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/admin/loans\", \"routerLinkActive\", \"active\"], [\"routerLink\", \"/admin/users\", \"routerLinkActive\", \"active\"], [1, \"user-info\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"page-header\"], [1, \"header-actions\"], [\"class\", \"btn btn-secondary\", 3, \"click\", 4, \"ngIf\"], [1, \"detail-grid\"], [1, \"card\"], [1, \"detail-row\"], [1, \"label\"], [1, \"value\"], [1, \"detail-row\", \"full-width\"], [1, \"value\", \"highlight\"], [\"class\", \"card\", 4, \"ngIf\"], [\"class\", \"timeline\", 4, \"ngIf\", \"ngIfElse\"], [1, \"comments-section\"], [\"class\", \"comment\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"no-data\", 4, \"ngIf\"], [1, \"add-comment\"], [\"rows\", \"3\", \"placeholder\", \"Add admin comment...\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [1, \"approval-section\"], [1, \"approval-action\"], [1, \"form-label\"], [\"rows\", \"2\", \"placeholder\", \"Enter approval remarks...\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [\"rows\", \"2\", \"placeholder\", \"Enter rejection reason...\", \"required\", \"\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-danger\", 3, \"click\", \"disabled\"], [1, \"timeline\"], [\"class\", \"timeline-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"timeline-item\"], [1, \"timeline-marker\"], [1, \"timeline-content\"], [1, \"timeline-header\"], [1, \"timeline-date\"], [4, \"ngIf\"], [1, \"no-data\"], [1, \"comment\"], [1, \"comment-header\"], [1, \"comment-date\"]],\n        template: function AdminLoanDetailComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1)(1, \"nav\", 2)(2, \"div\", 3)(3, \"div\", 4)(4, \"h2\");\n            i0.ɵɵtext(5, \"Admin Portal\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(6, \"div\", 5)(7, \"a\", 6);\n            i0.ɵɵtext(8, \"Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(9, \"a\", 7);\n            i0.ɵɵtext(10, \"All Loans\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(11, \"a\", 8);\n            i0.ɵɵtext(12, \"Users\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"span\", 9);\n            i0.ɵɵtext(14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"button\", 10);\n            i0.ɵɵlistener(\"click\", function AdminLoanDetailComponent_Template_button_click_15_listener() {\n              return ctx.logout();\n            });\n            i0.ɵɵtext(16, \"Logout\");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵtemplate(17, AdminLoanDetailComponent_div_17_Template, 139, 34, \"div\", 11);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(14);\n            i0.ɵɵtextInterpolate1(\"\", ctx.currentUser == null ? null : ctx.currentUser.username, \" (Admin)\");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngIf\", ctx.loan);\n          }\n        },\n        dependencies: [CommonModule, i4.NgForOf, i4.NgIf, i4.DatePipe, FormsModule, i5.DefaultValueAccessor, i5.NgControlStatus, i5.RequiredValidator, i5.NgModel, RouterModule, i3.RouterLink, i3.RouterLinkActive],\n        styles: [\".detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 4px 12px #0000000d}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1a1a1a;margin-bottom:16px;border-bottom:2px solid #e5e7eb;padding-bottom:8px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f3f4f6}.detail-row.full-width[_ngcontent-%COMP%]{flex-direction:column;gap:6px}.detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#64748b;font-weight:500}.detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#1a1a1a;font-weight:500}.detail-row[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#06c;font-weight:700}.approval-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.approval-action[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.timeline[_ngcontent-%COMP%]{position:relative;padding-left:30px;margin-bottom:20px}.timeline-item[_ngcontent-%COMP%]{position:relative;padding-bottom:24px}.timeline-marker[_ngcontent-%COMP%]{position:absolute;left:-30px;width:12px;height:12px;background-color:#06c;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 2px #06c}.timeline-item[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;left:-24px;top:12px;bottom:-12px;width:2px;background-color:#e5e7eb}.timeline-item[_ngcontent-%COMP%]:last-child:before{display:none}.timeline-content[_ngcontent-%COMP%]{background-color:#f9fafb;padding:16px;border-radius:8px}.timeline-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.timeline-date[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af}.timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0;font-size:14px}.comments-section[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;margin-bottom:12px}.comment[_ngcontent-%COMP%]{background-color:#f9fafb;padding:12px;border-radius:8px;margin-bottom:12px}.comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:6px}.comment-date[_ngcontent-%COMP%]{font-size:12px;color:#9ca3af}.add-comment[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.add-comment[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{align-self:flex-end}\"]\n      });\n    }\n  }\n  return AdminLoanDetailComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}